{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/D2105/Documents/Projects/Front-end/React/association/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/D2105/Documents/Projects/Front-end/React/association/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/D2105/Documents/Projects/Front-end/React/association/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import Texts from'../Texts';import{Context}from'../Context';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Suggestions(){var _useContext=useContext(Context),lang=_useContext.lang;var texts=Texts[lang];var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),details=_useState4[0],setDetails=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];function send(){return _send.apply(this,arguments);}function _send(){_send=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(password=='3VwWKzATJ45M')){_context.next=10;break;}_context.next=3;return fetch(\"https://vahpa.org.sa/server/api/suggestions-view\");case 3:res=_context.sent;_context.next=6;return res.json();case 6:res=_context.sent;setData(res);_context.next=11;break;case 10:alert('كلمة المرور خاطئة');case 11:case\"end\":return _context.stop();}}},_callee);}));return _send.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-title\",children:/*#__PURE__*/_jsx(\"h1\",{children:texts.suggestions})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center text-end\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:data.length==0?/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-black\",children:\"\\u0627\\u062F\\u062E\\u0644 \\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0631 \\u0644\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0625\\u0642\\u062A\\u0631\\u0627\\u062D\\u0627\\u062A \\u0648 \\u0627\\u0644\\u0634\\u0643\\u0627\\u0648\\u0649\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate('/call-us');},className:\"btn btn-sm bg-dark text-white\",children:\"\\u0631\\u062C\\u0648\\u0639\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control my-4\",placeholder:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\",defaultValue:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn bg-dark text-white float-start\",onClick:send,children:\"\\u0625\\u0631\\u0633\\u0627\\u0644\"})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-black\",children:\"\\u0627\\u0644\\u0625\\u0642\\u062A\\u0631\\u0627\\u062D\\u0627\\u062A \\u0648 \\u0627\\u0644\\u0634\\u0643\\u0648\\u0649\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:details!=0?/*#__PURE__*/_jsxs(\"div\",{children:[data.filter(function(data){return data.id==details;}).map(function(data){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0627\\u0644\\u0625\\u0633\\u0645:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:data.name}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:data.email}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0627\\u0644\\u0631\\u0633\\u0627\\u0644\\u0629:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:data.message})]},data.id);}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setDetails(0);},className:\"btn btn bg-dark text-white my-5\",children:\"\\u0631\\u062C\\u0648\\u0639\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0631\\u0642\\u0645\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0627\\u0644\\u0625\\u0633\\u0645\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0636\\u0628\\u0637\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.id}),/*#__PURE__*/_jsx(\"td\",{children:data.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm bg-dark text-white\",onClick:function onClick(){return setDetails(data.id);},children:\"\\u0639\\u0631\\u0636\"})})]},data.id);})})]})})})]})})})})})]});}","map":{"version":3,"names":["React","useContext","useState","Texts","Context","useNavigate","Suggestions","lang","texts","navigate","data","setData","details","setDetails","password","setPassword","send","fetch","res","json","alert","suggestions","length","e","target","value","filter","id","map","name","email","message"],"sources":["C:/Users/D2105/Documents/Projects/Front-end/React/association/src/pages/Suggestions.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport Texts from '../Texts';\r\nimport { Context } from '../Context';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Suggestions() {\r\n\r\n    const { lang } = useContext(Context);\r\n    const texts = Texts[lang];\r\n    const navigate = useNavigate();\r\n    const [data, setData] = useState([]);\r\n    const [details, setDetails] = useState(0);\r\n    const [password, setPassword] = useState('');\r\n\r\n    async function send() {\r\n        if (password == '3VwWKzATJ45M') {\r\n            let res = await fetch(\"https://vahpa.org.sa/server/api/suggestions-view\");\r\n            res = await res.json();\r\n            setData(res);\r\n        }\r\n        else {\r\n            alert('كلمة المرور خاطئة')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='page-title'>\r\n                <h1>{texts.suggestions}</h1>\r\n            </div>\r\n            <div className='content'>\r\n                <div className='row justify-content-center text-end'>\r\n                    <div className='col-md-6'>\r\n                        {data.length == 0\r\n                            ? (\r\n                                <div className='card shadow-sm'>\r\n                                    <div className='card-header d-flex justify-content-between'>\r\n                                        <h4 className='text-black'>ادخل كلمة السر لعرض الإقتراحات و الشكاوى</h4>\r\n                                        <button onClick={() => navigate('/call-us')} className='btn btn-sm bg-dark text-white'>رجوع</button>\r\n                                    </div>\r\n                                    <div className='card-body'>\r\n                                        <input className='form-control my-4' placeholder='كلمة المرور' defaultValue={password} onChange={e => setPassword(e.target.value)} />\r\n                                        <button className='btn btn bg-dark text-white float-start' onClick={send}>إرسال</button>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                            : (\r\n                                <>\r\n                                    <div className='card shadow-sm mb-5'>\r\n                                        <div className='card-header'>\r\n                                            <h4 className='text-black'>الإقتراحات و الشكوى</h4>\r\n                                        </div>\r\n                                        <div className='card-body'>\r\n\r\n                                            {details != 0\r\n                                                ? (\r\n                                                    <div>\r\n                                                        {data.filter(data => data.id == details).map(data => (\r\n                                                            <div key={data.id}>\r\n                                                                <p>الإسم:</p>\r\n                                                                <p className='text-center'>{data.name}</p>\r\n                                                                <p>البريد الإلكتروني:</p>\r\n                                                                <p className='text-center'>{data.email}</p>\r\n                                                                <p>الرسالة:</p>\r\n                                                                <p className='text-center'>{data.message}</p>\r\n\r\n                                                            </div>\r\n                                                        ))}\r\n                                                        <button onClick={() => setDetails(0)} className='btn btn bg-dark text-white my-5'>رجوع</button>\r\n                                                    </div>\r\n\r\n                                                )\r\n                                                : (\r\n\r\n                                                    <div className='table-responsive'>\r\n                                                        <table className='table table-bordered table-striped'>\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th>رقم</th>\r\n                                                                    <th>الإسم</th>\r\n                                                                    <th>ضبط</th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            <tbody>\r\n                                                                {data.map(data => (\r\n                                                                    <tr key={data.id}>\r\n                                                                        <td>{data.id}</td>\r\n                                                                        <td>{data.name}</td>\r\n                                                                        <td>\r\n                                                                            <button className='btn btn-sm bg-dark text-white' onClick={() => setDetails(data.id)}>عرض</button>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                ))}\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </>\r\n                            )\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}